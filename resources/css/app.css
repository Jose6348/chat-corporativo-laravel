@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply antialiased;
    }
}

@layer components {
    /* Botões profissionais */
    .btn-primary {
        @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 transform hover:scale-105 active:scale-95;
    }
    
    .btn-secondary {
        @apply bg-white text-gray-700 font-semibold py-2.5 px-6 rounded-lg border-2 border-gray-300 shadow-sm hover:bg-gray-50 hover:border-gray-400 transition-all duration-200;
    }
    
    .btn-danger {
        @apply bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:from-red-600 hover:to-red-700 transition-all duration-200;
    }
    
    /* Cards profissionais */
    .card {
        @apply bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all duration-200 hover:shadow-xl;
    }
    
    /* Inputs profissionais */
    .input-field {
        @apply w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 outline-none;
    }
    
    /* Gradiente de fundo profissional */
    .bg-gradient-professional {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .bg-gradient-chat {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }

    .chatbot-window {
        @apply backdrop-blur-sm transition-all duration-300 translate-y-4 opacity-0 scale-95 pointer-events-none;
        transform-origin: 90% 100%;
    }

    .chatbot-window.is-visible {
        @apply translate-y-0 opacity-100 scale-100 pointer-events-auto;
    }

    .chatbot-header {
        background: radial-gradient(125% 125% at 50% 0%, rgba(129, 140, 248, 0.95) 0%, rgba(99, 102, 241, 1) 40%, rgba(14, 165, 233, 0.9) 100%);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .chatbot-icon-btn {
        @apply rounded-full p-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/70;
    }

    .chatbot-messages {
        mask-image: linear-gradient(to bottom, transparent, black 16px, black calc(100% - 16px), transparent);
        -webkit-mask-image: linear-gradient(to bottom, transparent, black 16px, black calc(100% - 16px), transparent);
    }

    .chatbot-row {
        @apply flex items-start gap-3 animate-chatbot-in;
    }

    .chatbot-avatar {
        @apply shrink-0 w-9 h-9 rounded-full bg-gradient-to-br from-indigo-600 to-indigo-500 text-white font-semibold flex items-center justify-center shadow-lg shadow-indigo-500/20;
    }

    .chatbot-bubble {
        @apply rounded-3xl rounded-tl-none bg-white shadow-md shadow-indigo-100/70 px-4 py-3 text-sm leading-relaxed text-slate-700 border border-indigo-100/60;
    }

    .chatbot-bubble strong {
        @apply text-indigo-700 font-semibold;
    }

    .chatbot-bubble p + p {
        @apply mt-2;
    }

    .chatbot-bubble-user {
        @apply rounded-3xl rounded-tr-none bg-gradient-to-r from-indigo-600 to-blue-600 text-white shadow-md px-4 py-3 text-sm leading-relaxed;
    }

    .chatbot-paragraph {
        @apply block text-sm leading-relaxed text-slate-700;
    }

    .chatbot-paragraph + .chatbot-paragraph {
        @apply mt-2;
    }

    .chatbot-bullet {
        position: relative;
        display: block;
        padding-left: 1.5rem;
        font-size: 0.875rem;
        line-height: 1.6;
        color: rgb(71 85 105);
    }

    .chatbot-bullet::before {
        content: '•';
        position: absolute;
        left: 0.3rem;
        top: 0;
        line-height: 1.3;
        font-size: 1rem;
        color: rgb(79 70 229);
        font-weight: 600;
    }

    .chatbot-topic-btn {
        @apply px-3.5 py-2 text-xs font-semibold tracking-wide rounded-full border border-indigo-200 text-indigo-600 bg-white/90 shadow-sm shadow-indigo-100 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-300 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white relative overflow-hidden;
    }

    .chatbot-topic-btn::after {
        content: '';
        @apply absolute inset-0 bg-gradient-to-r from-indigo-500/0 via-indigo-500/10 to-indigo-500/0 opacity-0 transition-opacity duration-200;
    }

    .chatbot-topic-btn:hover::after,
    .chatbot-topic-btn.is-active::after {
        @apply opacity-100;
    }

    .chatbot-toggle-btn {
        @apply relative flex items-center gap-3 bg-white/95 backdrop-blur border border-indigo-100 px-5 py-3 rounded-full shadow-xl hover:shadow-2xl transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white;
        box-shadow: 0 25px 45px -20px rgba(79, 70, 229, 0.35);
    }

    .chatbot-toggle-icon {
        @apply flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-tr from-indigo-600 via-indigo-500 to-sky-500 text-white shadow-inner;
    }

    .chatbot-toggle-glow {
        @apply absolute inset-0 rounded-full bg-gradient-to-r from-indigo-500/0 via-indigo-500/10 to-indigo-500/0 blur-xl opacity-0 pointer-events-none;
        transition: opacity 0.2s ease-in-out;
    }

    .chatbot-toggle-btn:hover .chatbot-toggle-glow,
    .chatbot-toggle-btn:focus-visible .chatbot-toggle-glow {
        @apply opacity-100;
    }

    .chatbot-typing {
        @apply flex items-center gap-2 text-xs text-slate-500 pl-12;
    }

    .chatbot-typing-dot {
        width: 0.35rem;
        height: 0.35rem;
        border-radius: 9999px;
        background: #4f46e5;
        opacity: 0.35;
        animation: chatbot-bounce 1.2s infinite ease-in-out;
    }

    .chatbot-typing-dot:nth-child(2) {
        animation-delay: 0.15s;
    }

    .chatbot-typing-dot:nth-child(3) {
        animation-delay: 0.3s;
    }

    .shadow-3xl {
        box-shadow: 0 45px 90px -45px rgba(79, 70, 229, 0.45), 0 18px 45px -20px rgba(14, 165, 233, 0.25);
    }

    @keyframes chatbot-bounce {
        0%, 80%, 100% {
            transform: translateY(0);
            opacity: 0.35;
        }
        40% {
            transform: translateY(-2px);
            opacity: 0.8;
        }
    }

    @keyframes chatbot-slide-in {
        from {
            transform: translateY(8px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .animate-chatbot-in {
        animation: chatbot-slide-in 0.35s ease forwards;
    }
}
